language: node_js
node_js:
- '6'
cache:
  directories:
  - node_modules
script:
- npm run build
after_success:
- if ( [ "$TRAVIS_BRANCH" == "master" ] || [ ! -z "$TRAVIS_TAG" ] ) && [ "$TRAVIS_REPO_SLUG"
  == "dhis2/event-capture-app" ]  &&  [ "$TRAVIS_PULL_REQUEST" == "false" ] ; then
  mvn clean deploy --settings deploy/settings.xml && exit 0; fi
env:
  global:
  - secure: Gh/YZJENjaLTUqu/K9Tj1bfenMhzHJjReSWX9sM01a5voUnxmWyfXvxQK791CCIackcYJvYgZfjee6Yf9uN/nUyRQy1i2/8g7y91Tt3e4D7IyeigTAP6b96cDr05ZJFSXCQ7laz1hdkj14bPiv/uVDXP+eUBy31bPhUunc7Q1896wEK8gsGTlR7qlTZNkFG1u1ZPoxa73A4JComczZGlStXnrJQ6FIZP/QbY3GgSjWNUlO+UnSUHwvdMV9tUrwAoKjBcmVxU6TCS5PM61nivkIMw557tyTbSO7IIcx7D7kbYZskehU26cgS0/HSe1hP7upzSFmq2sVLjxvN47FZ+Ms7XH4IkdqZdQtyp2v78juLSrEthkESuiaaAVdYWZWOkPjlZkF3fUTlTh202PZdWr3hlJBOhLw6pMhdnRZe1x6uuaLoC1oOTMCLFIPQw4fSuZokFiSCOWbNe22kOey9LksdMt/bKn/qerJlek35CeKdD4SVC0XarlJ4qHSgLZYVmbSW8PKRFndv67ot5uuuuqS4U5w0oXHbRRRiwpNctZSjhT7P0UbbvWUGr7mMQR6G2r+Zs97kx/G4C3WqdonxWRLRmXPBBVhUi6U0Os89MF6bzSkkQGIHAwasnmQoJ5pwsfOBchuEo9aEVChLwnHIEY5K6aP3rtyDPQqn2SjlyF4c=
  - secure: KYceMIOWh29U/g5aVgmx6Ei4nPegBdMS/3YeNwrqPGWW1KWqlMFTJIbeTFZt3CWKlh0cWBTWddMgcQ9Te65RBh6sUnipE0IqYSyNu/jsgYfOLkMYFN0QWHSHf5M5Tl28z6uYVLENumD9sgu0avKMxMcT/ROvuUPxXGWe7cI+t/Iqin6KGNU5dLCK6T+O0Q9wWLK4qtquw01L+xxHdtBLi1OmFxJDfZeegd88j/URvp4BrpNHQIRFC5vxiYrwzbtsP2XAymWAtn2j5BBDsRjdDkdK+3uea6RVaOb8/zCldVQTWDPeBw3BalBRLyIp7dUtAZ4cf6o0BLk6M4+auKWvBKdIv+fCYuvPbfYzXEnQFTR6pck/lSkiD+HHLTIuhIAVMFkn8OmTujM/s/e8axmyoZOOj4y2Rjw0qFMGNHld9docFXFzPgrID3RFhT1qF2mF42H711jzf2VWF/ylXcVJ/2qRoqH2QHWGDUSb9O5mxDW3ZGZtiUbaGM1hSdAh3F1ml+XkaRaplkn45KgfM9RPRn8dlWECL1p3SLGtY6glRZjZ4N9DVa1mNyN9QZ38TM3n5bCpWFI0b3GMeTvgQUwI8ZE/du/tpwBwu176Apn4Sjud5lcZGiA1CNvULvY6KecTZzSljoiRNjqRAf11D41TkIsCWWcDXaqkIPbCjq9GA6U=
CI_DEPLOY_USERNAME=dhis2:
  secure: hw+fX+DmgEQ3DkMaoda92ZB1mNT3MGBjwaNjXf3by2SjzLnvYKuzDOr/Mao1kAS26tEcpsCQ7a35iVr103MsN75kDXigR5XPZwEUts7ex61nw+alwHmDxXVPIPi641NPHQdy6Q/ML7bsB3kQxrIerPQM2a7fIszMo/D5JHFRV1bp3QVlqUcj83CFZj9H0mXi2h8KXUQwBwv1l1x1ldFEAuee1v4zDVLOTF2emwMVUz0aNopzTgVX0taDozIIWJmmippvmCi+G3g+9qZiCR7IIVr/ioz77H+4YZDbOpFJsS5DXAldArYNlvdwe+l13rGg7hylPde/3pm/s03dwt692qo/smyZ72PiJBet2RdhaNq+HNoa5UwOwEr/vcx2D9YRo6QVB4fhl11ScSCRp51bwzdqNSukoJJein0c9cX/C0lykjBARTGvsBH3b8uktJx0pi/v4IcUMRLK4hu8p4zUnzzHk5FHCuod5cnw8hAlefUz17xSAeQrZ++Zwmj7PgJeFYnjgObz3jsurNWnoqPKGtGWg5B6tvA/NRZU3Vv2tkJF7TlkKa+v/QJS/9gcrEr0Ha5CRMs/DqoIlkGRW9faH+75bnKNOVxif2eL5r0BcWVJbmlMo21lDVpHCVFhmhPs8sqRq186+DTukIkiUMtLU8HuHg6wVMzLA8+bgDSMP98=
CI_DEPLOY_PASSWORD=j72j5mJapj2k6Ag1FgAghE:
  secure: SJti9jnb90+/JXsipai9CdweDHG0yrrZbEqZBkwOhrJxur1LRZbZ+/sx49N92F75Vr4UwbFc+jzk92VyF+9Wh5LnrImtvrBEhzJ5zxKp0Y2WoBmQzHyjTXCjwGKFYEiLUF6RST72gOofw87bkppOGOYYAUC59nIAD6djRpaV4NTpoq7mt62e6gvI+Fn/4vnJhA19QUSZxmQC06u+by/KP9kJEHUc6/69H1AAQjpNfXCAUzzUWVw9IUg8uRgZflCYjZEHokkw0ibg5nXZGhsGvXlaxxeg6dGCWSFSpTyIKbborwhTuyZrFE3IncEJ+HMK/7l3JY2w5iBWyTPpp8XUD9PJUtUq0h5WY4mOYhBqu9wDBpnI1RdfE9XOR0+HEeD8qk/jquI+Fcjn78gE/AZ38Le2WcpE1fCOrFM6F/+e9fH+PbjGbDcxlshY4rHwQNsNjFswYx2B1lEaQY5/KBlPKaEfVT/jVzfCH0cPk3tvz1BOE4S++tBpGKFRPPc3/fG42WMVxXR4c/uXqzp3JptVNDTVtrTQpexlva9akdT30Zy1YPtk1J43MfmhGNzu0afmrvjhDx0bTO3EUhTQGWXmnzJuYwUrbelqpBm8WMM/0tjpY45BZVQQTj0DKs7Gj97Lf12bZsN75CD8YGTcn0JvcFEDdwpJrQLpBiTXBbdYOAQ=
